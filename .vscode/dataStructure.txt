// backend data structure and architecture

Scenario
├── name                 // Name of the scenario
├── description          // Description of the scenario
├── createdAt            // Timestamp when the scenario was created
├── updatedAt            // Timestamp when the scenario was last updated
├── settings
│   ├── general
│   │   ├── projectName  // Name of the wind farm project
│   │   ├── startDate    // Project start date
│   │   └── projectLife  // Project duration in years
│   ├── project
│   │   ├── windFarm
│   │   │   ├── numWTGs              // Number of wind turbine generators
│   │   │   ├── mwPerWTG             // Capacity of each turbine in MW
│   │   │   ├── capacityFactor       // Capacity factor as percentage
│   │   │   ├── wtgPlatformType      // 'geared' or 'direct-drive'
│   │   │   ├── curtailmentLosses    // Curtailment losses as percentage
│   │   │   └── electricalLosses     // Electrical losses as percentage
│   │   ├── currency
│   │   │   ├── local                // Local currency code (e.g., 'USD')
│   │   │   ├── foreign              // Foreign currency code (e.g., 'EUR')
│   │   │   └── exchangeRate         // Exchange rate (local per foreign)
│   │   └── location                 // Country code reference
│   ├── modules
│   │   ├── financing
│   │   │   ├── capex                // Capital expenditure
│   │   │   ├── devex                // Development expenditure
│   │   │   ├── model                // 'Balance-Sheet' or 'Project-Finance'
│   │   │   ├── debtToEquityRatio    // For Balance-Sheet model
│   │   │   ├── debtToCapexRatio     // For Project-Finance model
│   │   │   ├── loanDuration         // Loan tenor in years
│   │   │   ├── loanInterestRateBS   // Interest rate for Balance-Sheet model
│   │   │   ├── loanInterestRatePF   // Interest rate for Project-Finance model
│   │   │   ├── equityInvestment     // Optional explicit equity amount
│   │   │   └── minimumDSCR          // Minimum Debt Service Coverage Ratio
│   │   ├── cost
│   │   │   ├── annualBaseOM         // Annual base O&M cost
│   │   │   ├── escalationRate       // O&M cost escalation rate percentage
│   │   │   ├── escalationDistribution // Distribution type for escalation
│   │   │   ├── oemTerm              // OEM contract term in years
│   │   │   ├── fixedOMFee           // Fixed O&M fee during OEM term
│   │   │   ├── failureEventProbability // Probability of failure events
│   │   │   ├── failureEventCost     // Cost per failure event
│   │   │   ├── majorRepairEvents    // Array of scheduled major repairs
│   │   │   │   ├── year             // Year of repair
│   │   │   │   ├── cost             // Cost of repair
│   │   │   │   └── probability      // Probability of repair being needed
│   │   │   ├── contingencyCost      // Contingency cost
│   │   │   ├── adjustments[]        // Cost adjustments
│   │   │   │   ├── years[]          // Array of years this adjustment applies to
│   │   │   │   ├── amount           // Adjustment amount
│   │   │   │   └── description      // Description of the adjustment
│   │   │   └── failureModel         // Component failure model parameters
│   │   │       ├── designLife       // Expected component lifetime in years
│   │   │       ├── totalLifetime    // Total simulation period
│   │   │       ├── componentCount   // Number of components (N)
│   │   │       ├── percentiles[]    // Percentiles to calculate [P10, P50, P90]
│   │   │       ├── assumedFailureRate // Default failure probability at design life
│   │   │       ├── componentType    // Type of component being modeled
│   │   │       └── historicalData   // Historical failure data for calibration
│   │   │           ├── type         // "separate" or "analysis"
│   │   │           └── data[]       // Calibration data points
│   │   │               ├── year     // Year of observation
│   │   │               └── failureRate // Observed failure rate
│   │   ├── revenue
│   │   │   ├── energyProduction     // Energy production configuration
│   │   │   │   ├── distribution     // 'Fixed', 'Normal', 'Triangular', 'Uniform'
│   │   │   │   ├── mean             // Mean production in MWh
│   │   │   │   ├── std              // Standard deviation for Normal distribution
│   │   │   │   ├── min              // Minimum for Triangular/Uniform distributions
│   │   │   │   └── max              // Maximum for Triangular/Uniform distributions
│   │   │   ├── electricityPrice     // Electricity price configuration
│   │   │   │   ├── type             // 'fixed' or 'variable'
│   │   │   │   ├── value            // Price value for fixed type
│   │   │   │   └── distribution     // Distribution type for variable price
│   │   │   ├── revenueDegradationRate // Annual revenue degradation percentage
│   │   │   ├── downtimePerEvent     // Downtime configuration
│   │   │   │   ├── distribution     // 'Weibull', 'Lognormal', 'Exponential'
│   │   │   │   ├── scale            // Scale parameter
│   │   │   │   └── shape            // Shape parameter
│   │   │   ├── windVariabilityMethod // 'Default' or 'Kaimal'
│   │   │   ├── turbulenceIntensity  // For Kaimal method
│   │   │   ├── surfaceRoughness     // For Kaimal method
│   │   │   ├── kaimalScale          // For Kaimal method
│   │   │   └── adjustments[]        // Revenue adjustments
│   │   │       ├── years[]          // Array of years this adjustment applies to
│   │   │       ├── amount           // Adjustment amount
│   │   │       └── description      // Description of the adjustment
│   │   ├── risk
│   │   │   ├── insuranceEnabled     // Whether insurance is enabled
│   │   │   ├── insurancePremium     // Annual insurance premium
│   │   │   ├── insuranceDeductible  // Insurance deductible per event
│   │   │   └── reserveFunds         // Reserve funds amount
│   │   └── contracts
│   │       └── oemContracts[]       // Array of OEM contracts
│   │           ├── id               // Unique identifier for the contract
│   │           ├── name             // Name of the contract
│   │           ├── years[]          // Array of years this contract applies to
│   │           ├── fixedFee         // Fixed fee amount
│   │           ├── isPerTurbine     // Whether fee is per turbine
│   │           ├── oemScopeId       // Reference to OEM scope
│   │           └── oemScopeName     // Name of the OEM scope
│   ├── simulation
│   │   ├── iterations              // Number of Monte Carlo iterations
│   │   ├── seed                    // Random seed for reproducibility
│   │   └── probabilities           // Percentile definitions
│   │       ├── primary             // Primary percentile (typically 50)
│   │       ├── upperBound          // Upper bound percentile (typically 75)
│   │       ├── lowerBound          // Lower bound percentile (typically 25)
│   │       ├── extremeUpper        // Extreme upper percentile (typically 90)
│   │       └── extremeLower        // Extreme lower percentile (typically 10)
│   └── metrics                     // Calculated project metrics
│       ├── totalMW                 // Total project capacity in MW
│       ├── grossAEP                // Gross annual energy production
│       ├── netAEP                  // Net annual energy production
│       └── componentQuantities     // Quantities of major components
│           ├── blades              // Number of blades
│           ├── bladeBearings       // Number of blade bearings
│           ├── transformers        // Number of transformers
│           ├── gearboxes           // Number of gearboxes
│           ├── generators          // Number of generators
│           ├── converters          // Number of converters
│           ├── mainBearings        // Number of main bearings
│           └── yawSystems          // Number of yaw systems
└── simulation                      // Simulation results
    ├── inputSim                    // Input simulation results
    │   ├── cashflow                // Cash flow results
    │   │   ├── annualCosts         // Annual cost results
    │   │   │   ├── components      // Cost components
    │   │   │   │   ├── baseOM      // Base O&M costs
    │   │   │   │   ├── failureRisk // Failure risk costs
    │   │   │   │   └── majorRepairs // Major repair costs
    │   │   │   └── total           // Total costs
    │   │   ├── annualRevenue       // Annual revenue
    │   │   ├── dscr                // Debt Service Coverage Ratio
    │   │   └── netCashFlow         // Net cash flow
    │   ├── risk                    // Risk analysis results
    │   │   ├── failureRates        // Failure rate analysis
    │   │   └── eventProbabilities  // Event probability analysis
    │   └── scope                   // Scope analysis
    │       └── responsibilityMatrix // OEM responsibility matrix
    │           └── [YearlyResponsibilities] // Array of yearly responsibilities
    │               ├── year                 // Project year
    │               ├── oemContractId        // ID of applicable contract
    │               ├── oemContractName      // Name of applicable contract
    │               ├── scopeAllocations     // Allocation of responsibilities
    │               │   ├── preventiveMaintenance
    │               │   ├── bladeInspections
    │               │   ├── remoteMonitoring
    │               │   ├── remoteTechnicalSupport
    │               │   ├── siteManagement
    │               │   ├── technicians
    │               │   ├── correctiveMinor
    │               │   ├── bladeIntegrityManagement
    │               │   ├── craneCoverage
    │               │   └── correctiveMajor
    │               ├── fixedFee             // Fixed fee for the year
    │               └── isPerTurbine         // Whether fee is per turbine
    └── outputSim                   // Output simulation results
        ├── IRR                     // Internal Rate of Return
        │   ├── Pextreme_lower      // Extreme lower percentile (typically P10)
        │   ├── Plower_bound        // Lower bound percentile (typically P25)
        │   ├── Pprimary            // Primary percentile (typically P50)
        │   ├── Pupper_bound        // Upper bound percentile (typically P75)
        │   └── Pextreme_upper      // Extreme upper percentile (typically P90)
        ├── NPV                     // Net Present Value
        │   ├── Pextreme_lower
        │   ├── Plower_bound
        │   ├── Pprimary
        │   ├── Pupper_bound
        │   └── Pextreme_upper
        ├── paybackPeriod           // Payback period
        │   ├── Pextreme_lower
        │   ├── Plower_bound
        │   ├── Pprimary
        │   ├── Pupper_bound
        │   └── Pextreme_upper
        └── minDSCR                 // Minimum DSCR
            ├── Pextreme_lower
            ├── Plower_bound
            ├── Pprimary
            ├── Pupper_bound
            └── Pextreme_upper